# std::list

## std::list是通过什么样的算法来计算size的？

std::list 在 C++ 中是一个双向链表结构，每个元素包含数据和两个指针，分别指向前一个和后一个元素。为了支持快速获取链表的大小，std::list 维护一个成员变量来记录其大小。

每当向 std::list 添加或删除元素时，这个成员变量都会相应地增加或减少。因此，size() 函数的时间复杂度是 O(1)，即无论链表的大小如何，调用 size() 函数所需的时间都是常数。

这与 std::forward_list 不同，后者并不维护这样的成员变量。因此，如果你想获取 std::forward_list 的大小，你需要遍历整个链表，这个操作的时间复杂度是 O(n)，其中 n 是链表的大小。

这就是为什么 std::list 可以快速获取其大小，而 std::forward_list 不能的原因。

## std::list支持随机访问吗？

std::list 不支持随机访问。原因是 std::list 是一个双向链表结构，每个元素在内存中的位置是不连续的，只能通过前后节点的指针进行遍历。

随机访问意味着可以通过索引直接访问元素，就像在数组或 std::vector 中那样。这需要元素在内存中是连续存储的，或者有某种方式可以快速计算出元素的位置。但在 std::list 中，要找到一个特定的元素，需要从头（或尾）开始，通过元素的指针一个接一个地遍历，直到找到所需的元素。这使得访问特定元素的时间复杂度为 O(n)，其中 n 是链表的大小。

如果你需要随机访问的能力，你应该使用支持随机访问的容器，如 std::vector、std::array 或 std::deque。
